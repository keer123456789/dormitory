# 宿舍管理系统-后端代码说明

## 1.接口说明
### 1.1 用户管理
#### 1	用户登录
1.	接口路径：/user/login
2.	接口说明：用户登录接口
3.	接口方法：GET
4.	请求参数（query） 
      
      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |username|string|用户名|是|
      |password|string|密码|是|

5.	请求体（body）   
      无
6.	返回参数（response）   
      
      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |code|int|状态码 成功-200 失败-500|是|
      |msg|string|返回消息|否|
      |data|user对象|登录对应的用户信息|是|

      |user对象|参数类型|说明|是否必须|
      |----|----|----|----|
      |name|string|用户名|是|
      |role|int|用户角色 0-admin 1-宿管|是|

#### 2	用户注册
1.	接口路径：/user/register
2.	接口说明：用户注册接口
3.	接口方法：POST
4.	请求参数（query）
      无
5.	请求体（body）  
      
      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |username|string|用户名|是|
      |password|string|用户密码|是|
6.	返回参数（response）

      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |code|int|状态码 成功-200 失败-500|是|
      |msg|string|返回消息|否|
      |data|null|无|否|

#### 3 获取用户列表
1.	接口路径：/user
2.	接口说明：获取用户列表，只有在管理员才能查看
3.	接口方法：GET
4.	请求参数（query）
      
      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |pageSize|int|页大小|否，默认20|
      |pageNum|int|当前页|否，默认1|
      
5.	请求体（body）
      无
6.	返回参数（response）

      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |code|int|状态码 成功-200 失败-500|是|
      |msg|string|返回消息|否|
      |data|UserInfo对象 **数组**|用户信息列表|是|
      
      |UserInfo对象|参数类型|说明|是否必须|
      |----|----|----|----|
      |userName|string|用户名|是|
      |role|string|角色|是|
      |block|string **数组**|管理的宿舍楼列表|是|

#### 4 给宿管分配宿舍楼
1.	接口路径：/user
2.	接口说明：管理员分配宿舍楼给宿管 管理员权限
3.	接口方法：PUT
4.	请求参数（query）

      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |userName|string|用户名|是|
      |blockIds|int **数组**|宿舍楼id 数组|是|

5.	请求体（body）
      无
6.	返回参数（response）

      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |code|int|状态码 成功-200 失败-500|是|
      |msg|string|返回消息|否|
      |data|null|null|是|

### 1.2 宿舍楼管理
#### 1 增加宿舍楼
1.	接口路径：/block
2.	接口说明：增加宿舍楼
3.	接口方法：POST
4.	请求参数（query）
      无
5.	请求体（body）
      
      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |name|string|宿舍楼名称|是|
      |roomSize|int|宿舍楼宿舍最大人数|是|
      |floorSize|int|宿舍楼层数|是|
6.	返回参数（response）

      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |code|int|状态码 成功-200 失败-500|是|
      |msg|string|返回消息|否|
      |data|null|null|是|
#### 2 删除宿舍楼
1.	接口路径：/block/{id}
2.	接口说明：删除宿舍楼，一并删除相应的楼层，宿舍，
3.	接口方法：DELETE
4.	请求参数（query）  
      无
5.	请求体（body）  
      无
6.	返回参数（response）

      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |code|int|状态码 成功-200 失败-500|是|
      |msg|string|返回消息|否|
      |data|null|无|是|

#### 3 获取宿舍楼信息列表
1.	接口路径：/block
2.	接口说明：删除宿舍楼，一并删除相应的楼层，宿舍，
3.	接口方法：GET
4.	请求参数（query）  
      无
5.	请求体（body）  
      无
6.	返回参数（response）

      |参数名|参数类型|说明|是否必须|
      |----|----|----|----|
      |code|int|状态码 成功-200 失败-500|是|
      |msg|string|返回消息|否|
      |data|blockInfo **数组**|所有相应的宿舍楼信息|是|

      |blockInfo|参数类型|说明|是否必须|
      |----|----|----|----|
      |name|string|宿舍楼名称|是|
      |managerName|string|宿管人员|是|
      |floorNum|int|楼层数|是|
      |studentNum|int|入住人数|是|

#### 4 批量增加宿舍楼（excel）
#### 5 校验文件正确性
#### 6 增加宿舍楼楼层平面图模板
#### 7 获取楼层平面图

### 1.3 学生信息管理
#### 1 增加学生
#### 2 修改学生信息
#### 3 批量导入学生信息（excel）
#### 4 校验文件正确性

### 1.4 物品管理
#### 1 增加物品
#### 2 删除物品

### 1.6 任务管理
#### 1 查看运行的任务列表

